var d=(t,e,n)=>new Promise((i,o)=>{var r=s=>{try{c(n.next(s))}catch(u){o(u)}},a=s=>{try{c(n.throw(s))}catch(u){o(u)}},c=s=>s.done?i(s.value):Promise.resolve(s.value).then(r,a);c((n=n.apply(t,e)).next())});import{p as m,s as f}from"./sha256-C6hLnjrm.js";const l={};function p(t,e,n){return Math.min(n,Math.max(e,t))}function g(t){let e=t.replace(/[A-Z]/g,i=>`_${i.toLowerCase()}`);return t.charAt(0).match(/[A-Z]/)&&(e=e.substring(1)),e}function w(t,e,n){const i=t.split(separator);let o=e;for(let r=0;r<i.length;r++){const a=i[r];if(a.length===0)throw"Invalid instance id";if(typeof o[a]=="undefined")return null;o=o[a]}return o}function b(t,e){l[t]=e}function v(t){delete l[t]}function S(t){if(typeof window.location.host=="string"&&window.location.host.match(/^admin[\-a-z0-9]*\.imaios\.com$/))return"";if(typeof window.location.pathname!="string")return t;const e=window.location.pathname.split("/")[1];return e.length===2||e==="admin"||e.startsWith("test_")?e:t}function y(t){return d(this,null,function*(){try{const e=yield h(t,{method:"GET",headers:{"Content-Type":"application/json"}});return e.status===200?yield e.json():null}catch(e){return null}})}function A(t){return l[t]||null}const C={},I=new m.PublisherSubscriber("imaios-main-pubsub");function h(t,e={method:"GET",_defaultPayload:!0}){return e.credentials="same-origin",window.fetch(t,e)}function k(){try{return window.sessionStorage.setItem("test","test"),window.sessionStorage.removeItem("test"),!0}catch(t){return!1}}function x(t){const n=`; ${document.cookie}`.split(`; ${t}=`);if(n.length===2)return n.pop().split(";").shift()}function E(t){document.readyState==="complete"||document.readyState==="interactive"?t():document.addEventListener("DOMContentLoaded",()=>{t()})}function T(){const t=window.navigator.userAgent,e=t.indexOf("MSIE");let n=0;return e>0?n=parseInt(t.substring(e+5,t.indexOf(".",e))):navigator.userAgent.match(/Trident\/7\./)&&(n=11),n!==0}window.sha256=f;window.imaios={sha256:f,clamp:p,camelToSnakeCase:g,getProperty:w,store:b,clear:v,getSiteAccess:S,getJSON:y,get:A,services:C,pubsub:I,fetch:h,isSessionStorageAvailable:k,getCookie:x,onPageLoaded:E,isIE:T};export{S as a,x as b,h as f,A as g,E as o,I as p,b as s};
//# sourceMappingURL=imaios-global-D0pGfse-.js.map
