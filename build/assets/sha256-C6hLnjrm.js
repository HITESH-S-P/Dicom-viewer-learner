import{c as T,a as Y}from"./_commonjsHelpers-Chg3vePA.js";var D={exports:{}};(function(k,_){(function(O,R){k.exports=R()})(T,function(){return function(){var O={412:function(g,l,I){function u(b,m){for(var d=0;d<m.length;d++){var i=m[d];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(b,i.key,i)}}Object.defineProperty(l,"t",{value:!0});var y=I(775),S=function(){function b(){(function(i,f){if(!(i instanceof f))throw new TypeError("Cannot call a class as a function")})(this,b)}var m,d;return m=b,d=[{key:"set",value:function(i,f,e){for(var t,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",r=i.split(n),o=e,s=e,h=0;h<r.length;h++){var v=r[h];if(v.length===0)throw new y.default('"'.concat(i,'" is not a valid property path.'));o[v]===void 0&&(o[v]={}),s=o,o=o[v],t=v}return s[t]=f,e}},{key:"get",value:function(i,f){for(var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".",t=i.split(e),n=f,r=0;r<t.length;r++){var o=t[r];if(o.length===0)throw new y.default('"'.concat(i,'" is not a valid property path.'));if(n[o]===void 0)return null;n=n[o]}return n}}],d&&u(m.prototype,d),b}();l.default=S},775:function(g,l){function I(f){return I=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},I(f)}function u(f,e){if(e&&(I(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(f)}function y(f){var e=typeof Map=="function"?new Map:void 0;return y=function(t){if(t===null||(n=t,Function.toString.call(n).indexOf("[native code]")===-1))return t;var n;if(typeof t!="function")throw new TypeError("Super expression must either be null or a function");if(e!==void 0){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return S(t,arguments,d(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),m(r,t)},y(f)}function S(f,e,t){return S=b()?Reflect.construct:function(n,r,o){var s=[null];s.push.apply(s,r);var h=new(Function.bind.apply(n,s));return o&&m(h,o.prototype),h},S.apply(null,arguments)}function b(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(f){return!1}}function m(f,e){return m=Object.setPrototypeOf||function(t,n){return t.__proto__=n,t},m(f,e)}function d(f){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},d(f)}Object.defineProperty(l,"t",{value:!0});var i=function(f){(function(o,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(s&&s.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),s&&m(o,s)})(r,f);var e,t,n=(e=r,t=b(),function(){var o,s=d(e);if(t){var h=d(this).constructor;o=Reflect.construct(s,arguments,h)}else o=s.apply(this,arguments);return u(this,o)});function r(o){var s;return function(h,v){if(!(h instanceof v))throw new TypeError("Cannot call a class as a function")}(this,r),(s=n.call(this,o)).name="InvalidParameterException",s}return r}(y(Error));l.default=i},524:function(g,l,I){function u(p){return u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},u(p)}function y(p,c){if(!(p instanceof c))throw new TypeError("Cannot call a class as a function")}function S(p,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");p.prototype=Object.create(c&&c.prototype,{constructor:{value:p,writable:!0,configurable:!0}}),c&&t(p,c)}function b(p){var c=e();return function(){var a,E=n(p);if(c){var x=n(this).constructor;a=Reflect.construct(E,arguments,x)}else a=E.apply(this,arguments);return m(this,a)}}function m(p,c){if(c&&(u(c)==="object"||typeof c=="function"))return c;if(c!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return d(p)}function d(p){if(p===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p}function i(p){var c=typeof Map=="function"?new Map:void 0;return i=function(a){if(a===null||(E=a,Function.toString.call(E).indexOf("[native code]")===-1))return a;var E;if(typeof a!="function")throw new TypeError("Super expression must either be null or a function");if(c!==void 0){if(c.has(a))return c.get(a);c.set(a,x)}function x(){return f(a,arguments,n(this).constructor)}return x.prototype=Object.create(a.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),t(x,a)},i(p)}function f(p,c,a){return f=e()?Reflect.construct:function(E,x,w){var j=[null];j.push.apply(j,x);var A=new(Function.bind.apply(E,j));return w&&t(A,w.prototype),A},f.apply(null,arguments)}function e(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(p){return!1}}function t(p,c){return t=Object.setPrototypeOf||function(a,E){return a.__proto__=E,a},t(p,c)}function n(p){return n=Object.setPrototypeOf?Object.getPrototypeOf:function(c){return c.__proto__||Object.getPrototypeOf(c)},n(p)}Object.defineProperty(l,"t",{value:!0}),l.SubscriptionNotFoundException=l.SubscriptionAlreadyExistsException=l.InvalidArgumentException=l.DomainException=void 0;var r=function(p){S(a,p);var c=b(a);function a(){return y(this,a),c.apply(this,arguments)}return a}(i(Error));l.DomainException=r;var o=I(552),s=function(p){S(a,p);var c=b(a);function a(E){var x;return y(this,a),(x=c.call(this,E)).name=x.constructor.name,(0,o.captureStackTrace)(d(x),x.constructor),x}return a}(r);l.InvalidArgumentException=s;var h=function(p){S(a,p);var c=b(a);function a(E,x){var w;return y(this,a),(w=c.call(this,'Unable to add subscription "'.concat(E,'" to component "').concat(x,'" because it already manage a subscription with same id.'))).name=w.constructor.name,(0,o.captureStackTrace)(d(w),w.constructor),w}return a}(r);l.SubscriptionAlreadyExistsException=h;var v=function(p){S(a,p);var c=b(a);function a(E,x){var w;return y(this,a),(w=c.call(this,'Unable to find subscription with id "'.concat(E,'" in component "').concat(x,'".'))).name=w.constructor.name,(0,o.captureStackTrace)(d(w),w.constructor),w}return a}(r);l.SubscriptionNotFoundException=v},413:function(g,l){Object.defineProperty(l,"t",{value:!0}),l.generateId=void 0;var I=new Map;l.generateId=function(u){var y,S=(y=I.get(u))!==null&&y!==void 0?y:0;return I.set(u,S+1),"".concat(u,"_").concat(S)}},552:function(g,l){Object.defineProperty(l,"t",{value:!0}),l.captureStackTrace=void 0,l.captureStackTrace=function(I,u){typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(I,u)}},322:function(g,l,I){Object.defineProperty(l,"t",{value:!0}),l.subscribeFromObject=void 0;var u=new(I(412)).default;l.subscribeFromObject=function(y,S,b){Object.values(b).forEach(function(m){var d=y[m.action];if(typeof d=="function"){var i=d.bind(y);y.subscribe(S,m.notification,function(f){var e={};if(m.mapAttributes!==void 0){var t=m.mapAttributes;Object.keys(t).forEach(function(n){var r,o=(r=t[n])!==null&&r!==void 0?r:"";e[n]=u.get(o,f)}),i(e)}else i(f)})}})}},537:function(g,l,I){Object.defineProperty(l,"t",{value:!0}),l.HIGH_PRIORITY=l.DEFAULT_PRIORITY=l.LOW_PRIORITY=l.ROLE=l.findSubscriptionByRoleAndComponentId=void 0;var u=I(524);l.findSubscriptionByRoleAndComponentId=function(y,S,b){if(S!==l.ROLE.PUBLISHER_ID&&S!==l.ROLE.SUBSCRIBER_ID)throw new u.InvalidArgumentException('Invalid argument given for "role" in "findSubscriptionByRoleAndComponentId". Values expected are "publisher_id" or "subscriber_id" but "'.concat(S,'" was given.'));return y.getSubscriptions().filter(function(m){return(S===l.ROLE.PUBLISHER_ID?m.publisher_id:m.subscriber_id)===b})},l.ROLE={PUBLISHER_ID:"publisher_id",SUBSCRIBER_ID:"subscriber_id"},l.LOW_PRIORITY=-100,l.DEFAULT_PRIORITY=0,l.HIGH_PRIORITY=100},986:function(g,l,I){function u(i,f){for(var e=0;e<f.length;e++){var t=f[e];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(i,t.key,t)}}Object.defineProperty(l,"t",{value:!0});var y=I(829),S=I(757),b=I(537),m=I(524),d=function(){function i(t){(function(n,r){if(!(n instanceof r))throw new TypeError("Cannot call a class as a function")})(this,i),this.proxies=new Map,this.removedSelfSubscription=new Set,this.id=t,this.publisher=new y.default(t),this.subscriber=new S.default(t)}var f,e;return f=i,e=[{key:"hasSubscription",value:function(t){return this.subscriber.hasSubscription(t)||this.publisher.hasSubscription(t)}},{key:"addSubscriber",value:function(t,n){this.publisher.addSubscriber(t,n)}},{key:"removeSubscriber",value:function(t){this.publisher.removeSubscriber(t)}},{key:"getNbSubscriptionsAsPublisher",value:function(){return this.publisher.getNbSubscriptions()}},{key:"getNbSubscriptionsAsSubscriber",value:function(){return this.subscriber.getNbSubscriptions()}},{key:"publish",value:function(t,n){this.publisher.publish(t,n)}},{key:"getId",value:function(){return this.id}},{key:"subscribe",value:function(t,n,r,o){return this.subscriber.subscribe.apply(this,[t,n,r,o])}},{key:"getNbSubscriptions",value:function(){return this.subscriber.getNbSubscriptions()}},{key:"removeSubscription",value:function(t){this.subscriber.removeSubscription(t)}},{key:"addSubscription",value:function(t,n){this.subscriber.addSubscription(t,n)}},{key:"waitUntil",value:function(t){return this.subscriber.waitUntil(t)}},{key:"destroy",value:function(){this.publisher.destroy(),this.subscriber.destroy()}},{key:"is",value:function(t){return this.id===t}},{key:"findSubscriptionById",value:function(t){return this.subscriber.findSubscriptionById(t)||this.publisher.findSubscriptionById(t)}},{key:"findSubscriptionsByNotificationAndPublisherId",value:function(t,n){return this.subscriber.findSubscriptionsByNotificationAndPublisherId(t,n)}},{key:"findSubscriptionsByNotification",value:function(t){return this.subscriber.findSubscriptionsByNotification(t).concat(this.publisher.findSubscriptionsByNotification(t))}},{key:"getSubscriptions",value:function(){return this.subscriber.getSubscriptions().concat(this.publisher.getSubscriptions())}},{key:"unsubscribeFromNotification",value:function(t){this.subscriber.unsubscribeFromNotification(t)}},{key:"unsubscribeFromPublisherId",value:function(t){this.subscriber.unsubscribeFromPublisherId(t)}},{key:"unsubscribeFromSubscriptionId",value:function(t){this.subscriber.unsubscribeFromSubscriptionId(t)}},{key:"continuePublicationOnException",value:function(){this.publisher.continuePublicationOnException()}},{key:"findSubscriptionByPublisherId",value:function(t){var n=this.subscriber.findSubscriptionByPublisherId(t).concat((0,b.findSubscriptionByRoleAndComponentId)(this.publisher,b.ROLE.PUBLISHER_ID,t));return t===this.getId()?Array.from(new Set(n)):n}},{key:"findSubscriptionsByNotificationAndSubscriberId",value:function(t,n){return this.publisher.findSubscriptionsByNotificationAndSubscriberId(t,n)}},{key:"findSubscriptionBySubscriberId",value:function(t){var n=this.publisher.findSubscriptionBySubscriberId(t).concat((0,b.findSubscriptionByRoleAndComponentId)(this.subscriber,b.ROLE.SUBSCRIBER_ID,t));return t===this.getId()?Array.from(new Set(n)):n}},{key:"stopPublicationOnException",value:function(){this.publisher.stopPublicationOnException()}},{key:"clearSubscription",value:function(t){if(this.removedSelfSubscription.has(t))this.removedSelfSubscription.delete(t);else{var n=this.findSubscriptionById(t);if(n===null)throw new m.SubscriptionNotFoundException(t,this.getId());(n==null?void 0:n.subscriber_id)===this.subscriber.getId()&&this.subscriber.clearSubscription(t),(n==null?void 0:n.publisher_id)===this.publisher.getId()&&this.publisher.clearSubscription(t),(n==null?void 0:n.publisher_id)===(n==null?void 0:n.subscriber_id)&&this.removedSelfSubscription.add(t)}}},{key:"addProxy",value:function(t,n){var r=this,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(v){return v},s=this.getPublisherProxies(t.getId()),h=this.subscribe(t,n,function(v){r.publish(n,o(v))});return s.add(h.id),this.proxies.set(t.getId(),s),this}},{key:"getPublisherProxies",value:function(t){var n;return(n=this.proxies.get(t))!==null&&n!==void 0?n:new Set}},{key:"removeProxy",value:function(t,n){var r=this,o=this.findSubscriptionsByNotificationAndPublisherId(n,t.getId()),s=this.getPublisherProxies(t.getId());return o.filter(function(h){return s.has(h.id)}).forEach(function(h){r.unsubscribeFromSubscriptionId(h.id),s.delete(h.id)}),this}}],e&&u(f.prototype,e),i}();l.default=d},829:function(g,l,I){function u(n){return u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},u(n)}function y(n,r){if(!(n instanceof r))throw new TypeError("Cannot call a class as a function")}function S(n,r){for(var o=0;o<r.length;o++){var s=r[o];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(n,s.key,s)}}function b(n,r){return b=Object.setPrototypeOf||function(o,s){return o.__proto__=s,o},b(n,r)}function m(n){var r=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(o){return!1}}();return function(){var o,s=i(n);if(r){var h=i(this).constructor;o=Reflect.construct(s,arguments,h)}else o=s.apply(this,arguments);return d(this,o)}}function d(n,r){if(r&&(u(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(n)}function i(n){return i=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},i(n)}Object.defineProperty(l,"t",{value:!0});var f=I(657),e=I(537),t=function(n){(function(v,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");v.prototype=Object.create(p&&p.prototype,{constructor:{value:v,writable:!0,configurable:!0}}),p&&b(v,p)})(h,n);var r,o,s=m(h);function h(){var v;return y(this,h),(v=s.apply(this,arguments)).shouldIStopPublicationOnException=!1,v}return r=h,(o=[{key:"stopPublicationOnException",value:function(){this.shouldIStopPublicationOnException=!0}},{key:"continuePublicationOnException",value:function(){this.shouldIStopPublicationOnException=!1}},{key:"publish",value:function(v,p){var c=this,a=this.notificationsCollection[v];Array.isArray(a)&&a.slice(0).forEach(function(E){try{E.handler(p)}catch(x){if(c.shouldIStopPublicationOnException)throw x}})}},{key:"findSubscriptionBySubscriberId",value:function(v){return(0,e.findSubscriptionByRoleAndComponentId)(this,e.ROLE.SUBSCRIBER_ID,v)}},{key:"findSubscriptionsByNotificationAndSubscriberId",value:function(v,p){return this.findSubscriptionsByNotification(v).filter(function(c){return c.subscriber_id===p})}},{key:"addSubscriber",value:function(v,p){this.addSubscription(v,p)}},{key:"removeSubscriber",value:function(v){this.findSubscriptionBySubscriberId(v).forEach(function(p){return p.unsubscribe()})}}])&&S(r.prototype,o),h}(f.default);l.default=t},757:function(g,l,I){function u(o){return u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},u(o)}function y(o,s){if(!(o instanceof s))throw new TypeError("Cannot call a class as a function")}function S(o,s){for(var h=0;h<s.length;h++){var v=s[h];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(o,v.key,v)}}function b(o,s){return b=Object.setPrototypeOf||function(h,v){return h.__proto__=v,h},b(o,s)}function m(o){var s=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(h){return!1}}();return function(){var h,v=i(o);if(s){var p=i(this).constructor;h=Reflect.construct(v,arguments,p)}else h=v.apply(this,arguments);return d(this,h)}}function d(o,s){if(s&&(u(s)==="object"||typeof s=="function"))return s;if(s!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(h){if(h===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h}(o)}function i(o){return i=Object.setPrototypeOf?Object.getPrototypeOf:function(s){return s.__proto__||Object.getPrototypeOf(s)},i(o)}Object.defineProperty(l,"t",{value:!0});var f=I(657),e=I(537),t=I(524),n=I(413),r=function(o){(function(c,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(a&&a.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),a&&b(c,a)})(p,o);var s,h,v=m(p);function p(){return y(this,p),v.apply(this,arguments)}return s=p,h=[{key:"unsubscribeFromSubscriptionId",value:function(c){var a=this.findSubscriptionById(c);if(a===null)throw new t.SubscriptionNotFoundException(c,this.getId());a.unsubscribe()}},{key:"findSubscriptionByPublisherId",value:function(c){return(0,e.findSubscriptionByRoleAndComponentId)(this,e.ROLE.PUBLISHER_ID,c)}},{key:"unsubscribeFromPublisherId",value:function(c){this.findSubscriptionByPublisherId(c).map(function(a){return a.unsubscribe}).forEach(function(a){a()})}},{key:"unsubscribeFromNotification",value:function(c){this.findSubscriptionsByNotification(c).map(function(a){return a.unsubscribe}).forEach(function(a){a()})}},{key:"subscribe",value:function(c,a,E){var x=this,w=arguments.length>3&&arguments[3]!==void 0?arguments[3]:e.DEFAULT_PRIORITY,j=this.getNbSubscriptions(),A="sub_".concat(this.getId(),"_to_").concat(c.getId(),"_salt_").concat(j);if(isNaN(w)||typeof w!="number")throw new t.InvalidArgumentException('Unable to create a subscription with priority "'.concat(w,'" (typed as "').concat(u(w),'"). Number value is expected.'));var C={id:A,subscriber_id:this.getId(),publisher_id:c.getId(),unsubscribe:function(){c.clearSubscription(A),x.clearSubscription(A)},priority:w,handler:E};return this.addSubscription(a,C),c.addSubscriber(a,C),C}},{key:"getNbSubscriptions",value:function(){return this.nbSubscriptionRecorded}},{key:"removeSubscription",value:function(c){this.clearSubscription(c)}},{key:"waitUntil",value:function(c){var a=new p((0,n.generateId)("wait-until-".concat(c.map(function(E){return E.name}).join("-and-"),"-salt")));return new Promise(function(E){Promise.all(c.map(function(x){return new Promise(function(w){a.subscribe(x.from,x.name,function(j){w(j)})})})).then(function(x){a.destroy(),E(x)})})}},{key:"findSubscriptionsByNotificationAndPublisherId",value:function(c,a){return this.findSubscriptionsByNotification(c).filter(function(E){return E.publisher_id===a})}}],h&&S(s.prototype,h),p}(f.default);l.default=r},657:function(g,l,I){function u(d){return function(i){if(Array.isArray(i))return y(i)}(d)||function(i){if(typeof Symbol!="undefined"&&i[Symbol.iterator]!=null||i["@@iterator"]!=null)return Array.from(i)}(d)||function(i,f){if(i){if(typeof i=="string")return y(i,f);var e=Object.prototype.toString.call(i).slice(8,-1);if(e==="Object"&&i.constructor&&(e=i.constructor.name),e==="Map"||e==="Set")return Array.from(i);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return y(i,f)}}(d)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function y(d,i){(i==null||i>d.length)&&(i=d.length);for(var f=0,e=new Array(i);f<i;f++)e[f]=d[f];return e}function S(d,i){for(var f=0;f<i.length;f++){var e=i[f];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(d,e.key,e)}}Object.defineProperty(l,"t",{value:!0});var b=I(524),m=function(){function d(e){(function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")})(this,d),this.subscriptionsList={},this.notificationsCollection={},this.nbSubscriptionRecorded=0,this.id=e}var i,f;return i=d,(f=[{key:"getSubscriptions",value:function(){return[].concat.apply([],Object.values(this.notificationsCollection))}},{key:"getNbSubscriptions",value:function(){return this.nbSubscriptionRecorded}},{key:"hasSubscription",value:function(e){return this.subscriptionsList[e]!==void 0}},{key:"recordSubscription",value:function(e,t){this.subscriptionsList[e]=t}},{key:"findSubscriptionIndexById",value:function(e){var t=this.subscriptionsList[e],n={index:-1,notification:t!=null?t:""};if(t===void 0)return n;var r=this.notificationsCollection[t];return Array.isArray(r)&&(n.index=r.findIndex(function(o){return o.id===e})),n}},{key:"findSubscriptionById",value:function(e){var t=this.findSubscriptionIndexById(e);return t.index<0?null:this.notificationsCollection[t.notification][t.index]}},{key:"findSubscriptionsByNotification",value:function(e){return this.notificationsCollection[e]||[]}},{key:"clearSubscription",value:function(e){var t=this.findSubscriptionIndexById(e);if(t.index<0)throw new b.SubscriptionNotFoundException(e,this.getId());var n=this.notificationsCollection[t.notification].splice(t.index,1)[0];typeof n.handler=="function"&&delete n.handler,delete this.subscriptionsList[e],this.nbSubscriptionRecorded--,this.notificationsCollection[t.notification].length===0&&delete this.notificationsCollection[t.notification]}},{key:"addSubscription",value:function(e,t){if(Array.isArray(this.notificationsCollection[e])!==!0&&(this.notificationsCollection[e]=[]),this.hasSubscription(t.id))throw new b.SubscriptionAlreadyExistsException(t.id,this.getId());this.notificationsCollection[e].push(t),this.notificationsCollection[e].sort(function(n,r){return r.priority-n.priority}),this.recordSubscription(t.id,e),this.nbSubscriptionRecorded++}},{key:"getId",value:function(){return this.id}},{key:"is",value:function(e){return e===this.getId()}},{key:"destroy",value:function(){Object.values(this.notificationsCollection).forEach(function(e){u(e).forEach(function(t){t.unsubscribe()})})}}])&&S(i.prototype,f),d}();l.default=m}},R={};function B(g){var l=R[g];if(l!==void 0)return l.exports;var I=R[g]={exports:{}};return O[g](I,I.exports,B),I.exports}var P={};return function(){var g=P;Object.defineProperty(g,"t",{value:!0}),g.SubscriptionNotFoundException=g.SubscriptionAlreadyExistsException=g.InvalidArgumentException=g.SubscriberHelper=g.PublisherSubscriber=g.Subscriber=g.Publisher=void 0;var l=B(829);Object.defineProperty(g,"Publisher",{enumerable:!0,get:function(){return l.default}});var I=B(757);Object.defineProperty(g,"Subscriber",{enumerable:!0,get:function(){return I.default}});var u=B(986);Object.defineProperty(g,"PublisherSubscriber",{enumerable:!0,get:function(){return u.default}}),g.SubscriberHelper=B(322);var y=B(524);Object.defineProperty(g,"InvalidArgumentException",{enumerable:!0,get:function(){return y.InvalidArgumentException}}),Object.defineProperty(g,"SubscriptionAlreadyExistsException",{enumerable:!0,get:function(){return y.SubscriptionAlreadyExistsException}}),Object.defineProperty(g,"SubscriptionNotFoundException",{enumerable:!0,get:function(){return y.SubscriptionNotFoundException}})}(),P}()})})(D);var $=D.exports,M={exports:{}},F={exports:{}},L;function q(){return L||(L=1,function(k){(function(_){var O={bytesToHex:function(P){return R(P)},hexToBytes:function(P){if(P.length%2===1)throw new Error("hexToBytes can't have a string with an odd number of characters.");return P.indexOf("0x")===0&&(P=P.slice(2)),P.match(/../g).map(function(g){return parseInt(g,16)})}};function R(P){return P.map(function(g){return B(g.toString(16),2)}).join("")}function B(P,g){return P.length>g?P:Array(g-P.length+1).join("0")+P}k.exports?k.exports=O:_.convertHex=O})(T)}(F)),F.exports}var N={exports:{}},U;function W(){return U||(U=1,function(k){(function(_){var O={bytesToString:function(R){return R.map(function(B){return String.fromCharCode(B)}).join("")},stringToBytes:function(R){return R.split("").map(function(B){return B.charCodeAt(0)})}};O.UTF8={bytesToString:function(R){return decodeURIComponent(escape(O.bytesToString(R)))},stringToBytes:function(R){return O.stringToBytes(unescape(encodeURIComponent(R)))}},k.exports?k.exports=O:_.convertString=O})(T)}(N)),N.exports}(function(k){(function(_){var O={};k.exports?(O.bytesToHex=q().bytesToHex,O.convertString=W(),k.exports=I):(O.bytesToHex=_.convertHex.bytesToHex,O.convertString=_.convertString,_.sha256=I);var R=[];(function(){function u(m){for(var d=Math.sqrt(m),i=2;i<=d;i++)if(!(m%i))return!1;return!0}function y(m){return(m-(m|0))*4294967296|0}for(var S=2,b=0;b<64;)u(S)&&(R[b]=y(Math.pow(S,1/3)),b++),S++})();var B=function(u){for(var y=[],S=0,b=0;S<u.length;S++,b+=8)y[b>>>5]|=u[S]<<24-b%32;return y},P=function(u){for(var y=[],S=0;S<u.length*32;S+=8)y.push(u[S>>>5]>>>24-S%32&255);return y},g=[],l=function(u,y,S){for(var b=u[0],m=u[1],d=u[2],i=u[3],f=u[4],e=u[5],t=u[6],n=u[7],r=0;r<64;r++){if(r<16)g[r]=y[S+r]|0;else{var o=g[r-15],s=(o<<25|o>>>7)^(o<<14|o>>>18)^o>>>3,h=g[r-2],v=(h<<15|h>>>17)^(h<<13|h>>>19)^h>>>10;g[r]=s+g[r-7]+v+g[r-16]}var p=f&e^~f&t,c=b&m^b&d^m&d,a=(b<<30|b>>>2)^(b<<19|b>>>13)^(b<<10|b>>>22),E=(f<<26|f>>>6)^(f<<21|f>>>11)^(f<<7|f>>>25),x=n+E+p+R[r]+g[r],w=a+c;n=t,t=e,e=f,f=i+x|0,i=d,d=m,m=b,b=x+w|0}u[0]=u[0]+b|0,u[1]=u[1]+m|0,u[2]=u[2]+d|0,u[3]=u[3]+i|0,u[4]=u[4]+f|0,u[5]=u[5]+e|0,u[6]=u[6]+t|0,u[7]=u[7]+n|0};function I(u,y){u.constructor===String&&(u=O.convertString.UTF8.stringToBytes(u));var S=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],b=B(u),m=u.length*8;b[m>>5]|=128<<24-m%32,b[(m+64>>9<<4)+15]=m;for(var d=0;d<b.length;d+=16)l(S,b,d);var i=P(S);return y&&y.asBytes?i:y&&y.asString?O.convertString.bytesToString(i):O.bytesToHex(i)}I.x2=function(u,y){return I(I(u,{asBytes:!0}),y)}})(T)})(M);var G=M.exports;const K=Y(G);export{$ as p,K as s};
//# sourceMappingURL=sha256-C6hLnjrm.js.map
